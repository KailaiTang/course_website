{"ast":null,"code":"var _jsxFileName = \"/Users/tangkailai/Desktop/cs_coursework/CS 639/react1-alpha-KailaiTang/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      cartCourses: [],\n      subjects: []\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://mysqlcs639.cs.wisc.edu:53706/api/react/classes').then(res => res.json()).then(data => this.setState({\n      allCourses: data,\n      filteredCourses: data,\n      cartCourses: [],\n      subjects: this.getSubjects(data)\n    }));\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for (const course of Object.values(data)) {\n      if (subjects.indexOf(course.subject) === -1) subjects.push(course.subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({\n      filteredCourses: courses\n    });\n  }\n\n  updateCourse(status, course, section, subsection) {\n    // add a course\n    if (status === \"add\" && section == null && subsection == null) {\n      this.addCourse(course);\n    } // remove a course\n    else if (status === \"remove\" && section == null && subsection == null) {\n        this.removeCourse(course);\n      } // add a section\n      else if (status === \"add\" && subsection == null) {\n          this.addSection(course, section);\n        } // remove a section\n        else if (status === \"remove\" && subsection == null) {\n            this.removeSection(course, section);\n          } // add a subsection\n          else if (status === \"add\") {\n              this.addSubsection(course, section, subsection);\n            } // remove a subsection\n            else if (status === \"remove\") {\n                this.removeSubsection(course, section, subsection);\n              }\n  }\n\n  addCourse(course) {\n    // make sure that there are no duplicated courses in the cart\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        this.removeCourse(course);\n        break;\n      }\n    }\n\n    this.state.cartCourses.push(course);\n    console.log(this.state.cartCourses);\n  }\n\n  removeCourse(course) {\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        this.state.cartCourses.splice(i, i + 1);\n        console.log(this.state.cartCourses);\n        return;\n      }\n    }\n  }\n\n  addSection(course, section) {\n    console.log(section); // course already exists\n\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        console.log(\"course already exists\"); // remove the section if the section already exists\n\n        for (let j = 0; j < this.state.cartCourses[i].sections.length; j++) {\n          if (this.state.cartCourses[i].sections[j].number === section.number) {\n            console.log(\"section already exists\");\n            this.removeSection(course, section);\n            break;\n          }\n        } // add the section\n\n\n        console.log(this.state.cartCourses[i].sections);\n        this.state.cartCourses[i].sections.push(section);\n        console.log(this.state.cartCourses[i].sections);\n        return;\n      }\n    } // course not exists\n\n\n    course.sections = [];\n    course.sections.push(section);\n    this.addCourse(course); // for (let i = 0; i < this.state.cartCourses.length; i++) {\n    //   if (this.state.cartCourses[i].number === course.number) {\n    //     // remove the section that is not specified section \n    //     for (let j = 0; j < this.state.cartCourses[i].sections.length; j++) {\n    //       if (this.state.cartCourses[i].sections[j].number != section.number) {\n    //         console.log(\"remove: \" + section);\n    //         this.removeSection(course, section);\n    //       }\n    //     }\n    //     break;\n    //   }\n    // }\n    //console.log(this.state.cartCourses);\n  }\n\n  removeSection(course, section) {\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        // remove the section if the section already exists\n        for (let j = 0; j < this.state.cartCourses[i].sections.length; j++) {\n          if (this.state.cartCourses[i].sections[j].number === section.number) {\n            // console.log(this.state.cartCourses[i].sections.length);\n            this.state.cartCourses[i].sections.splice(j, j + 1); // console.log(this.state.cartCourses[i].sections.length);\n\n            return;\n          }\n        }\n      }\n    }\n\n    console.log(this.state.cartCourses);\n  }\n\n  addSubsection(course, section, subsection) {\n    console.log(subsection); // to check whether course exists\n\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        // to check whether the section exists\n        for (let j = 0; j < this.state.cartCourses[i].sections.length; j++) {\n          if (this.state.cartCourses[i].sections[j].number == section.number) {\n            // to check whether the subsection exists\n            for (let k = 0; k < this.state.cartCourses[i].sections[j].subsections.length; k++) {\n              if (this.state.cartCourses[i].sections[j].subsections[k] == subsection.number) {\n                return;\n              }\n            } // if subsection does not exist, but section exists\n\n\n            this.state.cartCourses[i].sections[j].subsections.push(subsection);\n            return;\n          }\n        } // if section does not exist, but course exists\n\n\n        section.subsections = [];\n        section.subsections.push(subsection);\n        this.state.cartCourses[i].sections.push(section);\n        return;\n      }\n    } // if course does not exist\n\n\n    section.subsections = [];\n    section.subsections.push(subsection);\n    course.sections = [];\n    course.sections.push(section);\n    this.state.cartCourses.push(course);\n  }\n\n  removeSubcection(course, section, subsection) {\n    // to check whether course exists\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        // to check whether the section exists\n        for (let j = 0; j < this.state.cartCourses[i].sections.length; j++) {\n          if (this.state.cartCourses[i].sections[j].number == section.number) {\n            // to check whether the subsection exists\n            for (let k = 0; k < this.state.cartCourses[i].sections[j].subsections.length; k++) {\n              if (this.state.cartCourses[i].sections[j].subsections[k] == subsection.number) {\n                this.state.cartCourses[i].sections[j].subsections.splice(k, k + 1);\n                console.log(this.state.cartCourses);\n                return;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n      integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n      crossOrigin: \"anonymous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Tabs, {\n      defaultActiveKey: \"search\",\n      style: {\n        position: 'fixed',\n        zIndex: 1,\n        width: '100%',\n        backgroundColor: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Tab, {\n      eventKey: \"search\",\n      title: \"Search\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      setCourses: courses => this.setCourses(courses),\n      courses: this.state.allCourses,\n      subjects: this.state.subjects,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '20vw'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CourseArea, {\n      data: this.state.filteredCourses,\n      allData: this.state.allCourses,\n      cartCourses: this.state.cartCourses,\n      updateCourse: this.updateCourse.bind(this),\n      cartMode: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(Tab, {\n      eventKey: \"cart\",\n      title: \"Cart\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '5vw'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CourseArea, {\n      data: this.state.cartCourses,\n      allData: this.state.allCourses,\n      cartCourses: this.state.cartCourses,\n      updateCourse: this.updateCourse.bind(this),\n      cartMode: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/tangkailai/Desktop/cs_coursework/CS 639/react1-alpha-KailaiTang/src/App.js"],"names":["React","Tabs","Tab","Sidebar","CourseArea","App","Component","constructor","props","state","allCourses","filteredCourses","cartCourses","subjects","componentDidMount","fetch","then","res","json","data","setState","getSubjects","push","course","Object","values","indexOf","subject","setCourses","courses","updateCourse","status","section","subsection","addCourse","removeCourse","addSection","removeSection","addSubsection","removeSubsection","i","length","number","console","log","splice","j","sections","k","subsections","removeSubcection","render","position","zIndex","width","backgroundColor","paddingTop","marginLeft","bind"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      cartCourses: [],\n      subjects: []\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://mysqlcs639.cs.wisc.edu:53706/api/react/classes').then(\n      res => res.json()\n    ).then(data => this.setState({ allCourses: data, filteredCourses: data, cartCourses: [], subjects: this.getSubjects(data) }));\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n    for (const course of Object.values(data)) {\n      if (subjects.indexOf(course.subject) === -1)\n        subjects.push(course.subject);\n    }\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({ filteredCourses: courses })\n  }\n\n  updateCourse(status, course, section, subsection) {\n    // add a course\n    if (status === \"add\" && section == null && subsection == null) {\n      this.addCourse(course);\n    }\n    // remove a course\n    else if (status === \"remove\" && section == null && subsection == null) {\n      this.removeCourse(course);\n    }\n    // add a section\n    else if (status === \"add\" && subsection == null) {\n      this.addSection(course, section);\n    }\n    // remove a section\n    else if (status === \"remove\" && subsection == null) {\n      this.removeSection(course, section);\n    }\n    // add a subsection\n    else if (status === \"add\") {\n      this.addSubsection(course, section, subsection);\n    }\n    // remove a subsection\n    else if (status === \"remove\") {\n      this.removeSubsection(course, section, subsection);\n    }\n  }\n\n  addCourse(course) {\n    // make sure that there are no duplicated courses in the cart\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        this.removeCourse(course);\n        break;\n      }\n    }\n    this.state.cartCourses.push(course);\n    console.log(this.state.cartCourses)\n  }\n\n  removeCourse(course) {\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        this.state.cartCourses.splice(i, i + 1);\n        console.log(this.state.cartCourses);\n        return;\n      }\n    }\n  }\n\n  addSection(course, section) {\n    console.log(section);\n    // course already exists\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        console.log(\"course already exists\");\n        // remove the section if the section already exists\n        for (let j = 0; j < this.state.cartCourses[i].sections.length; j++) {\n          if (this.state.cartCourses[i].sections[j].number === section.number) {\n            console.log(\"section already exists\");\n            this.removeSection(course, section);\n            break;\n          }\n        }\n        // add the section\n        console.log(this.state.cartCourses[i].sections);\n        this.state.cartCourses[i].sections.push(section);\n        console.log(this.state.cartCourses[i].sections);\n        return;\n      }\n    }\n    // course not exists\n    course.sections = [];\n    course.sections.push(section);\n    this.addCourse(course);\n    // for (let i = 0; i < this.state.cartCourses.length; i++) {\n    //   if (this.state.cartCourses[i].number === course.number) {\n    //     // remove the section that is not specified section \n    //     for (let j = 0; j < this.state.cartCourses[i].sections.length; j++) {\n    //       if (this.state.cartCourses[i].sections[j].number != section.number) {\n    //         console.log(\"remove: \" + section);\n    //         this.removeSection(course, section);\n    //       }\n    //     }\n    //     break;\n    //   }\n    // }\n    //console.log(this.state.cartCourses);\n  }\n\n  removeSection(course, section) {\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        // remove the section if the section already exists\n        for (let j = 0; j < this.state.cartCourses[i].sections.length; j++) {\n          if (this.state.cartCourses[i].sections[j].number === section.number) {\n            // console.log(this.state.cartCourses[i].sections.length);\n            this.state.cartCourses[i].sections.splice(j, j + 1);\n            // console.log(this.state.cartCourses[i].sections.length);\n            return;\n          }\n        }\n      }\n    }\n    console.log(this.state.cartCourses);\n  }\n\n  addSubsection(course, section, subsection) {\n    console.log(subsection);\n    // to check whether course exists\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        // to check whether the section exists\n        for (let j = 0; j < this.state.cartCourses[i].sections.length; j++) {\n          if (this.state.cartCourses[i].sections[j].number == section.number) {\n            // to check whether the subsection exists\n            for (let k = 0; k < this.state.cartCourses[i].sections[j].subsections.length; k++) {\n              if (this.state.cartCourses[i].sections[j].subsections[k] == subsection.number) {\n                return;\n              }\n            }\n            // if subsection does not exist, but section exists\n            this.state.cartCourses[i].sections[j].subsections.push(subsection);\n            return;\n          }\n        }\n        // if section does not exist, but course exists\n        section.subsections = [];\n        section.subsections.push(subsection);\n        this.state.cartCourses[i].sections.push(section)\n        return;\n      }\n    }\n    // if course does not exist\n    section.subsections = [];\n    section.subsections.push(subsection);\n    course.sections = [];\n    course.sections.push(section);\n    this.state.cartCourses.push(course);\n  }\n\n  removeSubcection(course, section, subsection) {\n    // to check whether course exists\n    for (let i = 0; i < this.state.cartCourses.length; i++) {\n      if (this.state.cartCourses[i].number === course.number) {\n        // to check whether the section exists\n        for (let j = 0; j < this.state.cartCourses[i].sections.length; j++) {\n          if (this.state.cartCourses[i].sections[j].number == section.number) {\n            // to check whether the subsection exists\n            for (let k = 0; k < this.state.cartCourses[i].sections[j].subsections.length; k++) {\n              if (this.state.cartCourses[i].sections[j].subsections[k] == subsection.number) {\n                this.state.cartCourses[i].sections[j].subsections.splice(k, k + 1);\n                console.log(this.state.cartCourses);\n                return;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\n          crossOrigin=\"anonymous\"\n        />\n        <Tabs defaultActiveKey=\"search\" style={{ position: 'fixed', zIndex: 1, width: '100%', backgroundColor: 'white' }}>\n          <Tab eventKey=\"search\" title=\"Search\" style={{ paddingTop: '5vh' }}>\n            <Sidebar setCourses={(courses) => this.setCourses(courses)} courses={this.state.allCourses} subjects={this.state.subjects} />\n            <div style={{ marginLeft: '20vw' }}>\n              <CourseArea data={this.state.filteredCourses} allData={this.state.allCourses} cartCourses={this.state.cartCourses} updateCourse={this.updateCourse.bind(this)} cartMode={false} />\n            </div>\n          </Tab>\n\n          <Tab eventKey=\"cart\" title=\"Cart\" style={{ paddingTop: '5vh' }}>\n            <div style={{ marginLeft: '5vw' }}>\n              <CourseArea data={this.state.cartCourses} allData={this.state.allCourses} cartCourses={this.state.cartCourses} updateCourse={this.updateCourse.bind(this)} cartMode={true} />\n            </div>\n          </Tab>\n        </Tabs>\n      </>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}